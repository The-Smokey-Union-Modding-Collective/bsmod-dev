focus_tree = {
	id = south_african_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SAF
			has_dlc = "Together for Victory"
		}
	}
	
	default = no



#	focus = {
#		id = SAF_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

########################
##new 2023 stuff#######
#####################

focus = {
	id = SAF_status_of_the_union_act
	icon = GFX_goal_develop_saf
	x = 7
	y = 0

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}
focus = {
	id = SAF_apeal
	icon = GFX_goal_develop_saf
	prerequisite = { focus = SAF_status_of_the_union_act }
		x = -1
		y = 1
		relative_position_id = SAF_status_of_the_union_act

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}
focus = {
	id = SAF_apeal_other
	icon = GFX_goal_develop_saf
	prerequisite = { focus = SAF_status_of_the_union_act }
		x = 1
		y = 1
		relative_position_id = SAF_status_of_the_union_act

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}
focus = {
	id = SAF_a_policy_of_neutrality
	icon = GFX_goal_develop_saf
	prerequisite = { focus = SAF_apeal }
	prerequisite = {focus = SAF_apeal_other}
		x = 0
		y = 2
		relative_position_id = SAF_status_of_the_union_act

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}

focus = {
	id = SAF_voortrekker_monument
	icon = GFX_goal_generic_national_unity
	prerequisite = { focus = SAF_a_policy_of_neutrality }
	x = -4
	y = 3
	relative_position_id = SAF_status_of_the_union_act

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_ideas = SAF_voortrekker_monument
		add_days_mission_timeout = {
			mission = SAF_end_of_neutrality_timeout
			days = 100
		}
	}
}

focus = {
	id = SAF_police_windhoek_new
	icon = GFX_goal_generic_political_pressure
	prerequisite = { focus = SAF_voortrekker_monument }
	x = -1
	y = 1
	relative_position_id = SAF_voortrekker_monument

	cost = 7.15

	ai_will_do = {
		factor = 2
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {			
		swap_ideas = {
			remove_idea = SAF_ossewabrandwag
			add_idea = SAF_ossewabrandwag_2
		}
		remove_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
	}
}

focus = {
	id = SAF_politics_fix_1
	icon = GFX_goal_develop_saf
	prerequisite = { focus = SAF_voortrekker_monument }
		x = 1
		y = 1
	relative_position_id = SAF_voortrekker_monument

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}
focus = {
	id = SAF_politics_fix_2
	icon = GFX_goal_develop_saf
	prerequisite = { focus = SAF_politics_fix_1 }
	prerequisite = {focus = SAF_police_windhoek_new}
		x = 0
		y = 2
	relative_position_id = SAF_voortrekker_monument

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 120
	}
}
focus = {
	id = SAF_transvaal_urbanization
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = SAF_a_policy_of_neutrality }
	x = 0
	y = 1
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = SAF_transvaal_urbanization_IC
		}
		add_days_mission_timeout = {
			mission = SAF_end_of_neutrality_timeout
			days = 100
		}
	}
}
focus = {
	id = SAF_transvaal_urbanization_2
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = SAF_transvaal_urbanization }
	x = -1
	y = 2
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = SAF_transvaal_urbanization_IC
		}
	}
}
focus = {
	id = SAF_transvaal_urbanization_3
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = SAF_transvaal_urbanization }
	x = 1
	y = 2
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = SAF_transvaal_urbanization_IC
		}
	}
}
focus = {
	id = SAF_transvaal_urbanization_4
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = SAF_transvaal_urbanization_3 }
	prerequisite = { focus = SAF_transvaal_urbanization_2 }
	x = 0
	y = 3
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			set_state_flag = SAF_transvaal_urbanization_IC
		}
	}
}

focus = {
	id = SAF_representation_of_natives_act
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = SAF_a_policy_of_neutrality }
	x = 4
	y = 1
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = -0.05
		add_days_mission_timeout = {
			mission = SAF_end_of_neutrality_timeout
			days = 100
		}
	}
}
focus = {
	id = SAF_representation_of_natives_act_2
	icon = GFX_goal_generic_construction2
	prerequisite = { focus =SAF_representation_of_natives_act }
	x = 3
	y = 2
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = -0.05
		
	}
}
focus = {
	id = SAF_representation_of_natives_act_3
	icon = GFX_goal_generic_construction2
	prerequisite = { focus =SAF_representation_of_natives_act }
	x = 5
	y = 2
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = -0.05
	}
}
focus = {
	id = SAF_representation_of_natives_act_4
	icon = GFX_goal_generic_construction2
	prerequisite = { focus =SAF_representation_of_natives_act_2 }
	prerequisite = { focus =SAF_representation_of_natives_act_3 }
	x = 4
	y = 3
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = -0.05
	}
}
focus = {
	id = SAF_prime_minister_jan_smuts
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_politics_fix_2 }
	prerequisite = { focus = SAF_transvaal_urbanization_4 }
	prerequisite = { focus = SAF_representation_of_natives_act_4 }
	x = 0
	y = 4
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_conscription_act
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_prime_minister_jan_smuts }
	x = -1
	y = 5
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_mobilization_of_industry_act
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_prime_minister_jan_smuts }
	x = 1
	y = 5
	relative_position_id = SAF_a_policy_of_neutrality

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_lenz_bomb_factory
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = SAF_conscription_act }
	prerequisite = { focus = SAF_mobilization_of_industry_act }
	x = -1
	y = 1
	relative_position_id = SAF_conscription_act

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = SAF_lenz_bomb_factory_AF
		}
	}
}

focus = {
	id = SAF_allied_machine_tools
	icon = GFX_goal_generic_production
	prerequisite = { focus = SAF_lenz_bomb_factory }
	x = -1
	y = 1
	relative_position_id = SAF_lenz_bomb_factory

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_tech_bonus = {
			name = SAF_new_machine_tools
			bonus = 0.5
			uses = 1
			technology = advanced_machine_tools
			technology = assembly_line_production
			technology = modern_tools
		}
	}
}
focus = {
	id = SAF_allied_research_effort
	icon = GFX_focus_research
	prerequisite = { focus = SAF_lenz_bomb_factory }
	x = 1
	y = 1
	relative_position_id = SAF_lenz_bomb_factory

	cost = 7.15

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_research_slot = 1
	}
}
focus = {
	id = SAF_field_marshall_jan_smuts
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = SAF_conscription_act }
	prerequisite = { focus = SAF_mobilization_of_industry_act }
	x = 1
	y = 1
	relative_position_id = SAF_conscription_act

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = SAF_jan_smuts_tt
	}
}
focus = {
	id = SAF_mass_weapons_imports
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_mobilization_of_industry_act }
	x = 1
	y = 1
	relative_position_id = SAF_mobilization_of_industry_act

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_contracts_with_USA
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_mass_weapons_imports }
	x = 0
	y = 2
	relative_position_id = SAF_mobilization_of_industry_act

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_contracts_with_ENG
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_mass_weapons_imports }
	x = 2
	y = 2
	relative_position_id = SAF_mobilization_of_industry_act

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_mass_tank_imports
	icon = GFX_goal_jans_smut
	prerequisite = { focus = SAF_contracts_with_USA }
	prerequisite = { focus = SAF_contracts_with_ENG }
	x = 1
	y = 3
	relative_position_id = SAF_mobilization_of_industry_act

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_war = yes
			date > 1939.10.1
		}
	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		promote_character = SAF_jan_smuts
		retire_character = SAF_j_b_m_hertzog
	}
}
focus = {
	id = SAF_union_defense_force
	icon = GFX_goal_generic_army_doctrines
	x = 15
	y = 0

	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		army_experience = 25
	}
}
focus = {
	id = SAF__south_african_military_college
	icon = GFX_goal_generic_military_sphere
	prerequisite = { focus = SAF_union_defense_force }
	x = 0
	y = 1
	relative_position_id = SAF_union_defense_force

	cost = 5

	ai_will_do = {
		factor = 1
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}
	############################
	#### WAR PREP SECTION ######
	############################

	focus = {
		id = SAF_war_measures_act
		icon = GFX_goal_generic_demand_territory
		x = 21
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				threat > 0.2
				NOT = { has_government = democratic }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_political_power = 120
		}
	}

	focus = {
		id = SAF_emergency_workers
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_war_measures_act }
		x = -1
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}

	focus = {
		id = SAF_cape_garrison_artillery
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SAF_emergency_workers }
		x = -1
		y = 2
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes							
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SAF_reconstitute_the_cape_corps
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_cape_garrison_artillery}
		x = -1
		y = 4
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_history_of_segregation
				add_idea = SAF_history_of_segregation_2
			}
		}
	}

	focus = {
		id = SAF_expand_the_cape_corps
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SAF_reconstitute_the_cape_corps }
		x = 0
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			remove_ideas = SAF_history_of_segregation_2
		}
	}

	focus = {
		id = SAF_outlaw_strikes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_work_for_all_poor }
		x = 2
		y = 5
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_2
				add_idea = SAF_cheap_labor_3
			}
		}
	}


	############################
	# GO COMMONWEALTH SECTION ##
	############################

	focus = {
		id = SAF_support_the_policy_of_appeasement
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 25
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject_of = ENG
				AND = {
					has_global_flag = ENG_decolonized
					is_in_faction_with = ENG
				}
			}
			ENG = { has_war = no }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
		add_political_power = 75
		}
	}

	focus = {
		id = SAF_csir
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = SAF_war_measures_act }
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -3
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_tech_sharing_group = commonwealth_research
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SAF = {
   				modify_tech_sharing_bonus = {
         			id = commonwealth_research
         			bonus = 0.1  # we get 20% higher bonus from this group
    			}
			}
		}
	}

	focus = {
		id = SAF_police_windhoek
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SAF_support_the_policy_of_appeasement }
		x = -1
		y = 1
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 2
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {			
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag
				add_idea = SAF_ossewabrandwag_2
			}
			remove_opinion_modifier = { target = ENG modifier = SAF_anti_british_sentiment }
		}
	}

	focus = {
		id = SAF_internal_stability
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = SAF_csir }
		x = -3
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = 0.15
		}
	}

	focus = {
		id = SAF_desert_equipment
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SAF_internal_stability }
		x = -4
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_desert_equipment
		}
	}

	focus = {
		id = SAF_suppress_the_stormjaers
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_internal_stability }
		prerequisite = { focus = SAF_police_windhoek }
		x = -2
		y = 3
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 5

		ai_will_do = {
			factor = 2
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			remove_ideas = SAF_ossewabrandwag_2
		}
	}

	focus = {
		id = SAF_secure_interests_in_africa
		icon = GFX_goal_tfv_saf_secure_interests_in_africa
		prerequisite = { focus = SAF_suppress_the_stormjaers }
		prerequisite = { focus = SAF_desert_equipment }
		x = -3
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 0
		}

		available = {
			NOT = { has_war_with = ENG }
			ENG = { is_puppet = no }

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
		ENG = { custom_effect_tooltip = needs_approval 
				country_event = tfv_south_africa.1
				}
		}
	}

	############################
	## SHARED POLITICS SECTION #
	############################

	focus = {
		id = SAF_native_laws_amendment_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SAF_police_windhoek }
		x = 0
		y = 2
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_cheap_labor_1
		}
	}

	focus = {
		id = SAF_work_for_all_poor
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 0
		y = 4
		relative_position_id = SAF_support_the_policy_of_appeasement

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_1
				add_idea = SAF_cheap_labor_2
			}
		}
	}

	############################
	#### GO FASCIST SECTION ####
	############################

	
	############################
	### GO COMMUNIST SECTION ###
	############################

	
	############################
	##### INDUSTRY SECTION #####
	############################
	focus = {
		id = SAF_smoll_infrastruktur_cape
		icon = GFX_goal_generic_construct_infrastructure
		x = 28
		y = 0

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			681 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_infrastruktur_transvaal
		icon = GFX_goal_generic_construct_infrastructure
		x = 2
		y = 0
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_infrastruktur_natal
		icon = GFX_goal_generic_construct_infrastructure
		x = 4
		y = 0
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			719 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			719 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_infrastruktur_south_west
		icon = GFX_goal_generic_construct_infrastructure
		x = 6
		y = 0
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_civ_transvaal
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_smoll_infrastruktur_transvaal }
		x = 2
		y = 1
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_civ_natal
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_smoll_infrastruktur_natal }
		x = 4
		y = 1
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			719 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			719 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_civ_cape
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_smoll_infrastruktur_cape }
		x = 0
		y = 1
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			681 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smoll_south_west
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SAF_smoll_infrastruktur_south_west }
		x = 6
		y = 1
		relative_position_id = SAF_smoll_infrastruktur_cape
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		complete_tooltip = {
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smol_heavy_engineering
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_smoll_civ_cape focus = SAF_smoll_civ_transvaal }
		x = 1
		y = 2
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {			
			add_tech_bonus = {
				name = SAF_heavy_engineering
				bonus = 0.5
				uses = 2
				category = cat_production
			}
		}
	}

	focus = {
		id = SAF_south_african_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SAF_smoll_civ_natal focus = SAF_smoll_civ_cape focus = SAF_smoll_civ_transvaal focus = SAF_smoll_south_west}
		x = 4
		y = 4
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SAF_south_african_railways
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 2
				category = cat_transport_tech
			}
		}
	}

	focus = {
		id = SAF_smol_university
		icon = GFX_focus_research
		prerequisite = { focus = SAF_smoll_civ_natal focus = SAF_smoll_civ_cape focus = SAF_smoll_civ_transvaal focus = SAF_smoll_south_west}
		x = 2
		y = 4
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = SAF_smol_rand_mines
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_smoll_civ_natal focus = SAF_smoll_south_west }
		x = 5
		y = 2
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = SAF_gold_exports
		}
	}
	focus = {
		id = SAF_smol_south_african_steel
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_smoll_south_west }
		x = 7
		y = 2
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			controls_state = 541
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			541 = {
				add_resource = {
					type = steel
					amount = 24
				}
			}
		}
	}
	focus = {
		id = SAF_smol_south_african_tungstan
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_smoll_civ_cape}
		x = -1
		y = 2
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			controls_state = 681
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			681 = {
				add_resource = {
					type = tungsten
					amount = 18
				}
			}
		}
	}
	focus = {
		id = SAF_smol_armament_effort_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_smol_heavy_engineering }
		x = 1
		y = 3
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smol_armament_effort_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_smol_rand_mines }
		x = 5
		y = 3
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			719 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			719 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_smol_war_sience
		icon = GFX_focus_research
		prerequisite = { focus = SAF_smol_university }
		x = 3
		y = 5
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
			threat > 0.5
		}
		
		allow_branch = {
			SAF = { has_focus_tree = generic_focus }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = saf_smol_autarky_reform_fokus
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_smol_university }
		mutually_exclusive = { focus = saf_smol_free_trade_reform_fokus }
		x = 1
		y = 5
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = saf_smol_autarky_reform
		}
	}
	focus = {
		id = saf_smol_free_trade_reform_fokus
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_smol_university }
		mutually_exclusive = { focus = saf_smol_autarky_reform_fokus }
		x = 3
		y = 5
		relative_position_id = SAF_smoll_infrastruktur_cape

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = saf_smol_free_trade_reform
		}
	}




	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_smol_armytrainingeffort
		icon = GFX_goal_generic_army_doctrines
		x = 44
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SAF_weapons_research
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SAF_smol_armytrainingeffort }
		x = -2
		y = 1
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_weapons_research
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = SAF_smol_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = SAF_weapons_research }
		x = -2
		y = 2
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_smol_special_forces
				bonus = 1
				uses = 1
				category = jaeger_tech
				category = mountaineers_tech
			}
		}
	}
	focus = {
		id = saf_smol_exile_volunteers_corps
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SAF_smol_armytrainingeffort }
		x = 2
		y = 1
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = saf_smol_exile_volunteers_corps
		}
	}
	focus = {
		id = saf_smol_the_tschech_army_in_exile
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = saf_smol_exile_volunteers_corps }
		x = 2
		y = 2
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
			9 = {
				is_controlled_by = GER
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = saf_smol_the_tschech_army_in_exile
			create_corps_commander = {
				name = "Tommy in Exile"
				gfx = "GFX_Portrait_czechoslovakia_richard_tesarik"
				traits = { winter_specialist trickster trait_reckless naval_liason}
				skill = 4
    			attack_skill = 2
    			defense_skill = 4
    			planning_skill = 3
   				 logistics_skill = 2
			}
		}
	}
	focus = {
		id = saf_smol_czech_experience
		icon = GFX_focus_CZE_military_research_institute
		prerequisite = { focus = saf_smol_the_tschech_army_in_exile }
		x = 2
		y = 3
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
			9 = {
				is_controlled_by = GER
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_czech_experience
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery 
				category = rocketry
			}
		}
	}
	focus = {
		id = saf_smol_the_dutch_army_in_exile
		icon = GFX_focus_hol_liberation
		prerequisite = { focus = saf_smol_czech_experience }
		x = 2
		y = 4
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
			36 = {
				or = {
					is_controlled_by = GER
					controller = { is_in_faction_with = GER }
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = saf_smol_the_dutch_army_in_exile
			create_corps_commander = {
				name = "Smokey in Exile"
				gfx = "GFX_portrait_hol_godfried_van_voorst_tot_voorst"
				traits = { brilliant_strategist media_personality swamp_fox urban_assault_specialist}
				skill = 3
    			attack_skill = 3
    			defense_skill = 4
    			planning_skill = 2
   				 logistics_skill = 1
			}
		}
	}
	focus = {
		id = saf_smol_the_british_army_in_exile
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = { focus = saf_smol_the_dutch_army_in_exile }
		x = 2
		y = 5
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 45
		}

		available = {
			126 = {
				or = {
					is_controlled_by = GER
					controller = { is_in_faction_with = GER }
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			create_corps_commander = {
				name = "Arghos in Exile"
				gfx = "GFX_RAJ_krishna_pillai"
				traits = {old_guard brilliant_strategist media_personality desert_fox trickster urban_assault_specialist panzer_leader infantry_leader commando}
				skill = 6
    			attack_skill = 8
    			defense_skill = 4
    			planning_skill = 5
   				logistics_skill = 6
			}
		}
	}
	focus = {
		id = SAF_smol_wargaming
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SAF_smol_special_forces }
		x = -2
		y = 3
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SAF_smol_ranger_forces
		icon = GFX_focus_por_luso_tropicalism
		prerequisite = { focus = SAF_smol_wargaming }
		x = -2
		y = 4
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_smol_special_forces
				bonus = 1.5
				uses = 1
				category = jaeger_tech
			}
		}
	}
	focus = {
		id = SAF_smol_support_companies
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_smol_ranger_forces }
		x = -2
		y = 5
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_smol_support_companies
				bonus = 0.5
				uses = 2
				category = support_tech
			}
		}
	}
	focus = {
		id = SAF_improve_our_antitank
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_smol_armytrainingeffort }
		x = 0
		y = 1
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_our_antitank
				bonus = 0.75
				uses = 1
				category = cat_anti_tank
				technology = interwar_antiair
			}
		}
	}
	focus = {
		id = SAF_buy_british_rifles
		icon = GFX_goal_rhineland
		prerequisite = { focus = SAF_improve_our_antitank }
		x = 0
		y = 2
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_equipment_to_stockpile = {
       		type = infantry_equipment_1
       		amount = 1000
   			}
		}
	}
	focus = {
		id = SAF_buy_british_support_equipmnt
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SAF_buy_british_rifles }
		x = 0
		y = 3
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_equipment_to_stockpile = {
       		type = support_equipment_1
       		amount = 250
   			}
		}
	}
	focus = {
		id = SAF_our_own_equipmnt_designs
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_buy_british_support_equipmnt }
		x = 0
		y = 4
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SAF_anti_tonk_designer
		}
	}
	focus = {
		id = SAF_perfect_our_designs
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SAF_our_own_equipmnt_designs }
		x = 0
		y = 5
		relative_position_id = SAF_smol_armytrainingeffort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_improve_our_antitank
				bonus = 1
				uses = 1
				category = cat_anti_tank
			}
		}
	}
	focus = {
		id = SAF_mobile_warfaretheory
		icon = GFX_goal_generic_army_tanks
		x = 54
		y = 0


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}
			add_tech_bonus = {
				name = mechanized_bonus
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
			add_tech_bonus = {
				name = mechanized_bonus
				bonus = 0.50
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}
	focus = {
		id = SAF_study_the_crusier_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_mobile_warfaretheory }
		mutually_exclusive = {focus = SAF_study_the_infantry_support_tanks}
		x = -1
		y = 1
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_study_the_crusier_tanks
				bonus = 1.0
				uses = 1
				category = cat_light_armor
			}
		}
	}
	focus = {
		id = SAF_study_the_infantry_support_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_mobile_warfaretheory }
		mutually_exclusive = {focus = SAF_study_the_crusier_tanks}
		x = 1
		y = 1
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			army_experience = 25
		}
	}
	focus = {
		id = SAF_realize_the_logistics_issue
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_study_the_infantry_support_tanks }
		x = 2
		y = 2
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_realize_the_logistics_issue
				bonus = 1.0
				uses = 2
				technology = tech_logistics_company
				technology = tech_logistics_company2
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
		}
	}
	focus = {
		id = SAF_realize_the_communications_issue
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_study_the_infantry_support_tanks }
		x = 4
		y = 2
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_realize_the_communications_issue
				bonus = 1.0
				uses = 2
				technology = tech_signal_company
				technology = tech_signal_company2
				technology = tech_signal_company3
				technology = tech_signal_company4
			}
		}
	}
	focus = {
		id = motorize_our_tonks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_realize_the_logistics_issue }
		x = 2
		y = 3
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_realize_the_communications_issue
				bonus = 3.0
				uses = 1
				technology = motorised_infantry
			}
			add_equipment_to_stockpile = {
       		type = motorized_equipment
       		amount = 500
   			}
		}
	}
	focus = {
		id = buy_british_tonks_stockpiles
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_realize_the_communications_issue }
		x = 4
		y = 3
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = british_tanks
			add_tech_bonus = {
				name = buy_british_tonks_stockpiles
				bonus = 3.0
				uses = 1
				technology = basic_heavy_tank_chassis 
			}
			create_equipment_variant = {
				name = "Vickers Saf"
				type = heavy_tank_chassis_1
				parent_version = 0
				modules = {
					main_armament_slot = tank_heavy_cannon
					turret_type_slot = tank_heavy_two_man_tank_turret
					suspension_type_slot = tank_bogie_suspension
					armor_type_slot = tank_cast_armor
					engine_type_slot = tank_gasoline_engine
					special_type_slot_1 = additional_machine_guns
					special_type_slot_2 = secondary_turret_small_cannon
				}
				upgrades = {
					tank_nsb_engine_upgrade = 5
					tank_nsb_armor_upgrade = 10
				}
				icon = "GFX_ENG_basic_heavy_tank_medium"
			}
			add_equipment_to_stockpile = { 
			type = heavy_tank_chassis_1 amount = 100 producer = SAF  variant_name = "Vickers Saf"
			}
		}
	}
	focus = {
		id = saf_mass_produktion_design_philsophy
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = buy_british_tonks_stockpiles focus = motorize_our_tonks}
		x = 2
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = saf_mass_produktion_design_philsophy
		}
	}
	focus = {
		id = quality_gun_design_philsophy
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = buy_british_tonks_stockpiles focus = motorize_our_tonks}
		x = 4
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = quality_gun_design_philsophy
		}
	}
	focus = {
		id = quality_armor_design_philsophy
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = buy_british_tonks_stockpiles focus = motorize_our_tonks}
		x = 6
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = quality_armor_design_philsophy
		}
	}
	focus = {
		id = our_armor
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = saf_mass_produktion_design_philsophy focus = quality_gun_design_philsophy}
		x = 3
		y = 5
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = our_armor
				bonus = 1.0
				uses = 1
				category = cat_heavy_armor
			}
		}
	}
	focus = {
		id = study_german_armour
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = our_armor}
		x = 3
		y = 6
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war_with = GER
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = study_german_armour
				bonus = 3.0
				uses = 1
				category = cat_heavy_armor
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.8
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = invite_soviet_designers
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = quality_armor_design_philsophy}
		x = 6
		y = 5
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			SOV_will_support = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = invite_soviet_designers
				bonus = 1.2
				uses = 1
				technology = super_heavy_tank_chassis
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SAF_increase_tank_produktion
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_study_the_crusier_tanks focus = SAF_study_the_infantry_support_tanks }
		x = 0
		y = 2
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SAF_increase_tank_produktion_2
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SAF_increase_tank_produktion }
		x = 0
		y = 3
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

		complete_tooltip = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = train_our_comander
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SAF_increase_tank_produktion_2 }
		x = 0
		y = 4
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  }

		completion_reward = {
			custom_effect_tooltip = general_warning
			SAF_george_edwin_brink = {		
				add_unit_leader_trait = panzer_leader
			}
		}
	}
	focus = {
		id = SAF_realize_the_maintanence_issue
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_study_the_crusier_tanks }
		x = -2
		y = 2
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_realize_the_maintanence_issue
				bonus = 1.0
				uses = 2
				technology = tech_maintenance_company
				technology = tech_maintenance_company2
				technology = tech_maintenance_company3
				technology = tech_maintenance_company4
			}
		}
	}
	focus = {
		id = SAF_train_combat_engineers
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_study_the_crusier_tanks }
		x = -4
		y = 2
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_realize_the_maintanence_issue
				bonus = 1.0
				uses = 2
				technology = tech_engineers
				technology = tech_engineers2
				technology = tech_engineers3
				technology = tech_engineers4
			}
		}
	}
	focus = {
		id = SAF_focus_on_speed
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_train_combat_engineers focus = SAF_realize_the_maintanence_issue }
		x = -4
		y = 3
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_focus_on_speed
				bonus = 1.0
				uses = 1
				category = cat_light_armor
			}
		}
	}
	focus = {
		id = SAF_focus_on_figting
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_train_combat_engineers focus = SAF_realize_the_maintanence_issue }
		x = -2
		y = 3
		relative_position_id = SAF_mobile_warfaretheory

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = {  }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_focus_on_speed
				bonus = 1.0
				uses = 1
				category = cat_medium_armor
			}
		}
	}
	focus = {
		id = saf_speed_and_mass_philosophy
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_focus_on_speed focus = SAF_focus_on_figting}
		x = -4
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = saf_speed_and_mass_philosophy
		}
	}
	focus = {
		id = saf_combat_cruiser_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_focus_on_speed focus = SAF_focus_on_figting}
		x = -2
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = saf_combat_cruiser_tanks
		}
	}
	focus = {
		id = study_the_panther
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = saf_combat_cruiser_tanks focus = saf_speed_and_mass_philosophy}
		x = -4
		y = 5
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war_with = GER
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = study_german_armour
				bonus = 3.0
				uses = 1
				category = cat_medium_armor
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.8
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = buy_american_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = saf_combat_cruiser_tanks focus = saf_speed_and_mass_philosophy}
		x = -2
		y = 5
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war_with = GER
			has_tech = improved_medium_tank_chassis
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = american_tanks
			create_equipment_variant = {
				name = "M4 Sherman SAF"
				type = medium_tank_chassis_2
				parent_version = 0
				modules = {
					main_armament_slot = tank_medium_cannon_2
					turret_type_slot = tank_medium_three_man_tank_turret
					suspension_type_slot = tank_christie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_diesel_engine
					armor_profile_type_slot = sloped_armor
					special_type_slot_1 = tank_radio_3
					special_type_slot_2 = additional_machine_guns
					special_type_slot_3 = additional_machine_guns
					special_type_slot_4 = additional_machine_guns
				}
				upgrades = {
					tank_nsb_engine_upgrade = 10
					tank_nsb_armor_upgrade = 7
				}
				icon = "GFX_USA_improved_medium_tank_medium"
			}
			add_equipment_to_stockpile = {
       		type = motorized_equipment
       		amount = 500
   			}
			add_equipment_to_stockpile = { 
			type = medium_tank_chassis_2 amount = 350 producer = SAF  variant_name = "M4 Sherman SAF"
			}
		}
	}
	focus = {
		id = invite_new_zealand_designers
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_focus_on_speed}
		x = -6
		y = 4
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = advanced_light_tank_chassis
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = SAF_Edward_Puttick
		}
	}
	focus = {
		id = buy_new_zealand_tractors
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = invite_new_zealand_designers}
		x = -6
		y = 5
		relative_position_id = SAF_mobile_warfaretheory


		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = advanced_light_tank_chassis
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = new_zealand_tractors
			create_equipment_variant = {
				name = "Schnell-Traktor"
				type = light_tank_chassis_3
				parent_version = 0
				modules = {
					main_armament_slot = tank_small_cannon_2
					turret_type_slot = tank_light_two_man_tank_turret
					suspension_type_slot = tank_christie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_gas_turbine_engine
					special_type_slot_1 = tank_radio_2
					special_type_slot_2 = additional_machine_guns
				}
				upgrades = {
					tank_nsb_engine_upgrade = 14
					tank_nsb_armor_upgrade = 0
				}
				icon = "GFX_USA_advanced_light_tank_medium"
			}
			add_equipment_to_stockpile = { 
			type = light_tank_chassis_3 amount = 600 producer = SAF  variant_name = "Schnell-Traktor"
			}
		}
	}
	

	############################
	####### AIR SECTION ########
	############################

	

	############################
	###### NAVY SECTION ########
	############################

	focus = {
		id = SAF_seaward_defence_force
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 38
		y = 0		

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			navy_experience = 25
			random_state = {
				limit = {
					has_state_flag = SAF_seaward_defence_force_DY
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				prioritize = { 681 719 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = SAF_seaward_defence_force_DY
			}			
			add_doctrine_cost_reduction = {
				name = naval_doctrine_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_protect_the_trade
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = SAF_seaward_defence_force }
		x = -1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 0.8
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_protect_the_trade
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = dd_tech
			}
		}
	}

	focus = {
		id = SAF_disrupt_the_trade
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = SAF_seaward_defence_force }
		x = 1
		y = 1
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 0.2
			modifier = {
				has_war_with = ENG
				factor = 10
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SAF_disrupt_the_trade
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = SAF_expand_the_simons_town_base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SAF_protect_the_trade focus = SAF_disrupt_the_trade }
		x = 0
		y = 2
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			681 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			681 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = coastal_bunker
					province = 12589
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = SAF_expand_the_simons_town_base_DY
			}
			if = {
				limit = { 681 = { is_controlled_by = ROOT } }
				681 = {
					add_building_construction = {
						type = coastal_bunker
						province = 12589
						level = 2
						instant_build = yes
					}
					set_state_flag = SAF_expand_the_simons_town_base_NB
				}
			}
		}
	}

	focus = {
		id = SAF_anti_submarine_tactics
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		prerequisite = { focus = SAF_protect_the_trade }
		x = -1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = naval_doctrine_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_submarine_warfare
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SAF_expand_the_simons_town_base }
		prerequisite = { focus = SAF_disrupt_the_trade }
		x = 1
		y = 3
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = ENG
				factor = 3
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = naval_doctrine_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_prepare_overseas_offensive
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = SAF_anti_submarine_tactics }
		x = -1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				create_equipment_variant = {
						name = "Oskar Pistorius Class"
						type = ship_hull_super_heavy_1
						name_group = GER_BB_HISTORICAL
						parent_version = 0
						modules = {
					fixed_ship_battery_slot = ship_super_heavy_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_3
					fixed_ship_fire_control_system_slot = ship_fire_control_system_3
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_2
					fixed_ship_secondaries_slot = ship_secondaries_2
					fixed_ship_armor_slot = ship_armor_shbb
					front_1_custom_slot = ship_super_heavy_battery_1
					front_2_custom_slot = empty
					mid_1_custom_slot = empty
					mid_2_custom_slot = empty
					mid_3_custom_slot = empty
					rear_1_custom_slot = ship_super_heavy_battery_1
					rear_2_custom_slot = ship_super_heavy_battery_1
					}
					}
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "SAF" 
						version_name = "Oskar Pistorius Class"
					}
					requested_factories = 1
					progress = 0.60
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "SAF" 
						version_name = "Oskar Pistorius Class"
					}
					requested_factories = 1
					progress = 0.40
					amount = 1
				}
			}
			else = {
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "SAF" 
					}
					requested_factories = 1
					progress = 0.50
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "SAF" 
					}
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
		}
	}

	focus = {
		id = SAF_build_a_radining_carrier
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = SAF_submarine_warfare }
		x = 1
		y = 4
		relative_position_id = SAF_seaward_defence_force

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = FRA_prioritize_the_joffre_tt
				hidden_effect = {
					create_equipment_variant = {
						name = "Reaver Steankamp"
						type = ship_hull_carrier_1
						name_group = GER_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = dp_light_battery_1
							front_1_custom_slot = empty
						}
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_1
							creator = "SAF" 
							version_name = "Reaver Steankamp"
						}
						requested_factories = 1
						progress = 0.40
						amount = 1
					}
				}	
			}
			else = {
				add_equipment_production = {
					equipment = {
						type = carrier_2
						creator = "SAF" 
					}
					requested_factories = 1
					progress = 0.40
					amount = 1
				}
			}
		}
	}
	focus = {
		id = SAF_expand_the_repair_facilities
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SAF_prepare_overseas_offensive focus = SAF_build_a_radining_carrier }
		x = 0
		y = 5
		relative_position_id = SAF_seaward_defence_force

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			681 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			681 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = coastal_bunker
					province = 12589
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			681 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			if = {
				limit = { 681 = { is_controlled_by = ROOT } }
				681 = {
					add_building_construction = {
						type = coastal_bunker
						province = 12589
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
}		
