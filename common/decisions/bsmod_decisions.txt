economy_decisions = {

	dockyard_expansion = {

		icon = generic_construction

        allowed = {
            always = yes
        }

        cost = 25

		modifier = {
			civilian_factory_use = 2
		}

		custom_cost_text = army_xp_more_than_10 # localisation string

        fire_only_once = no

        days_re_enable = 60
		days_remove = 60

		available = {
			num_of_civilian_factories > 1
			any_owned_state = {
				NOT = { has_state_flag = dockyard_expansion_flag }
				is_fully_controlled_by = ROOT
				dockyard > 0
				is_coastal = yes
			}
		}

        remove_effect = {
			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					dockyard > 0

					NOT = { has_state_flag = dockyard_expansion_flag }
					is_coastal = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
				}
				set_state_flag = dockyard_expansion_flag
			}
		}
		ai_will_do = {
			factor = 1
		}
    }
}